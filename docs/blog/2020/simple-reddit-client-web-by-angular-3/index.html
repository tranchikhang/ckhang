<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Reddit client using Angular (3)</title>


    <link href="line-awesome/css/line-awesome.min.css" rel="stylesheet" type="text/css">

    
        <link rel="stylesheet" href="../../../css/style.css">
    </head>

    <body>
    	<div class="main">
			<div id="sidebar" class="main-background">
    <div class="site-title">
        <h1>
            <a class="heading">
                Hi, I'm Khang
            </a>
        </h1>
    </div>
    <nav class="links">
        <a class="page-link" href="../../../about/">About</a>
        <a class="page-link" href="../../../project/">Project</a>
        <a class="page-link" href="../../../blog/">Blog</a>
    </nav>
</div>
	        <div class="common-container">
	        	

<main>
	<div class="post">
		<div class="post-info">
        <br>
        <time datetime="2020-01-25 00:00:00 &#43;0000 UTC">January 25, 2020</time>
</div>

		<h1 class="post-title">Simple Reddit client using Angular (3)</h1>
<div class="post-line"></div>

		<p><!-- raw HTML omitted -->Last post<!-- raw HTML omitted -->, we restructured the app and added subreddit browsing. In this post, we are going to style the app a bit then implement thread browsing feature.</p>
<h3 id="threads-list-styling">Threads list styling</h3>
<p>First we will add some style to <em>thread-list</em> component.</p>
<p><em>src/app/components/thread-list/thread-list.component.html</em></p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;list-thread&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;thread&#34;</span> <span class="err">*</span><span class="na">ngFor</span><span class="o">=</span><span class="s">&#34;let thread of threads&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;title&#34;</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ thread.permalink }}&#34;</span><span class="p">&gt;</span>{{ thread.linkFlairText }} {{ thread.title }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;info-1&#34;</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;points&#34;</span><span class="p">&gt;</span>{{ thread.score }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> pts - <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;comments&#34;</span><span class="p">&gt;</span>{{ thread.num_comments }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> comments<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;info-2&#34;</span><span class="p">&gt;</span>{{ thread.createdTime| date:&#39;fullDate&#39; }} by <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;user&#34;</span><span class="p">&gt;</span>{{ thread.author }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div><p><em>src/app/components/thread-list/thread-list.component.scss</em></p>
<div class="highlight"><pre class="chroma"><code class="language-CSS" data-lang="CSS"><span class="p">.</span><span class="nc">list-thread</span> <span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">thread</span> <span class="p">{</span>
    <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">thread</span> <span class="p">.</span><span class="nc">title</span> <span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#353535</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">thread</span> <span class="p">.</span><span class="nc">points</span> <span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#E64569</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">thread</span> <span class="p">.</span><span class="nc">user</span> <span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#3d963b</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">thread</span> <span class="p">.</span><span class="nc">comments</span> <span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#439ECF</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p>We update <em>thread</em> model to display more data. <em>created</em> time from json data is in second, so we need to multiply by 1000 to get value in millisecond.</p>
<p><em>src/app/models/thread.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="kr">export</span> <span class="kr">class</span> <span class="nx">Thread</span> <span class="p">{</span>
    <span class="nx">id</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">title</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">author</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">score</span>: <span class="kt">number</span><span class="p">;</span>
    <span class="nx">permalink</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">url</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">createdTime</span>: <span class="kt">Date</span><span class="p">;</span>
    <span class="nx">linkFlairText</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">num_comments</span>: <span class="kt">number</span><span class="p">;</span>

    <span class="kr">constructor</span><span class="p">(</span><span class="nx">t</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">author</span> <span class="o">=</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">score</span> <span class="o">=</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">permalink</span> <span class="o">=</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;permalink&#39;</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">linkFlairText</span> <span class="o">=</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;link_flair_text&#39;</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">num_comments</span> <span class="o">=</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;num_comments&#39;</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">createdTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="s1">&#39;created&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>Update logic in <em>common</em> service follows with modified <em>thread</em> model
<em>src/app/services/common.service.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="nx">getThreads</span><span class="p">(</span><span class="nx">path</span>: <span class="kt">String</span><span class="p">)</span><span class="o">:</span> <span class="nx">Observable</span><span class="o">&amp;</span><span class="err">#</span><span class="nx">x3C</span><span class="p">;</span><span class="nx">any</span><span class="o">&amp;</span><span class="err">#</span><span class="nx">x3E</span><span class="p">;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">httpClient</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">appConfig</span><span class="p">.</span><span class="nx">baseUrl</span> <span class="o">+</span> <span class="nx">path</span> <span class="o">+</span> <span class="s1">&#39;.json&#39;</span><span class="p">).</span><span class="nx">pipe</span><span class="p">(</span>
        <span class="nx">map</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">res</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;children&#39;</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="nx">thread</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nx">Thread</span><span class="p">(</span><span class="nx">thread</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]);</span>
            <span class="p">});</span>
        <span class="p">}</span>
        <span class="p">)</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div><p>Run the app to check the result.</p>
<div class="highlight"><pre class="chroma"><code class="language-Bash" data-lang="Bash">ng serve
</code></pre></div><p><img src="angular-reddit-3-check-1.png" alt="simple-reddit-client-web-by-angular-3-check-1.png"></p>
<h3 id="top-navigation">Top navigation</h3>
<p>Next step, we will create a navigation bar, which appears on top in every pages.</p>
<div class="highlight"><pre class="chroma"><code class="language-Bash" data-lang="Bash">ng generate component components/navbar
</code></pre></div><p><em>src/app/components/navbar/navbar.component.html</em></p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navbar&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navbar-item&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/&#34;</span><span class="p">&gt;</span>Frontpage<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navbar-item&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
            Subreddit:
            <span class="p">&lt;</span><span class="nt">input</span> <span class="err">(</span><span class="na">keyup</span><span class="err">.</span><span class="na">enter</span><span class="err">)=&#34;</span><span class="na">toSubreddit</span><span class="err">()&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="err">[</span><span class="na">formControl</span><span class="err">]=&#34;</span><span class="na">subredditInput</span><span class="err">&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="err">(</span><span class="na">click</span><span class="err">)=&#34;</span><span class="na">toSubreddit</span><span class="err">()&#34;</span><span class="p">&gt;</span>Go!<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div><p>We also bind Enter&rsquo;s key up event to <em>toSubreddit</em>, so after inputting subreddit name, we can press Enter without clicking the button.</p>
<p><em>src/app/components/navbar/navbar.component.scss</em></p>
<div class="highlight"><pre class="chroma"><code class="language-CSS" data-lang="CSS"><span class="p">.</span><span class="nc">navbar</span> <span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">2</span><span class="kt">rem</span><span class="p">;</span>
    <span class="k">margin-top</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">navbar</span> <span class="p">.</span><span class="nc">navbar-item</span> <span class="p">{</span>
    <span class="k">margin-right</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p>We will move some logic in <em>dashboard</em> to <em>navbar</em>.</p>
<p><em>src/app/components/navbar/navbar.component.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="p">...</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">FormControl</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Router</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/router&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">CommonService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../../services/common.service&#39;</span>
<span class="p">...</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">NavbarComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

    <span class="nx">subredditInput</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormControl</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>

    <span class="kr">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">commonService</span>: <span class="kt">CommonService</span><span class="p">,</span> <span class="kr">private</span> <span class="nx">router</span>: <span class="kt">Router</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="nx">ngOnInit() {</span>
    <span class="p">}</span>

    <span class="nx">toSubreddit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">router</span><span class="p">.</span><span class="nx">navigate</span><span class="p">([</span><span class="s1">&#39;/r/&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">subredditInput</span><span class="p">.</span><span class="nx">value</span><span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>Update <em>dashboard</em> and <em>subreddit</em> view.</p>
<p><em>src/app/components/dashboard/dashboard.component.html</em></p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">app-navbar</span><span class="p">&gt;&lt;/</span><span class="nt">app-navbar</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">app-thread-list</span> <span class="err">[</span><span class="na">threads</span><span class="err">]=&#34;</span><span class="na">threads</span><span class="err">&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">app-thread-list</span><span class="p">&gt;</span>
</code></pre></div><p><em>src/app/components/subreddit/subreddit.component.html</em></p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">app-navbar</span><span class="p">&gt;&lt;/</span><span class="nt">app-navbar</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">app-thread-list</span> <span class="err">[</span><span class="na">threads</span><span class="err">]=&#34;</span><span class="na">threads</span><span class="err">&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">app-thread-list</span><span class="p">&gt;</span>
</code></pre></div><p>Run the app to check the result.</p>
<div class="highlight"><pre class="chroma"><code class="language-Bash" data-lang="Bash">ng serve
</code></pre></div><p><img src="angular-reddit-3-check2.png" alt="simple-reddit-client-web-by-angular-3-check2.png"></p>
<h3 id="thread-browsing">Thread browsing</h3>
<p>So we got front page working, subreddit is also working, next we will implement thread browsing.</p>
<div class="highlight"><pre class="chroma"><code class="language-Bash" data-lang="Bash">ng generate component components/thread
</code></pre></div><p>We add a new <em>reply</em> model and update <em>thread</em> model.</p>
<p><em>src/app/models/reply.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="kr">export</span> <span class="kr">class</span> <span class="nx">Reply</span> <span class="p">{</span>
    <span class="nx">id</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">content</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">author</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">score</span>: <span class="kt">number</span><span class="p">;</span>
    <span class="nx">permalink</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">createdTime</span>: <span class="kt">Date</span><span class="p">;</span>
    <span class="nx">replies</span>: <span class="kt">Reply</span><span class="p">[];</span>

    <span class="kr">constructor</span><span class="p">(</span><span class="nx">r</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">r</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">author</span> <span class="o">=</span> <span class="nx">r</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">score</span> <span class="o">=</span> <span class="nx">r</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">content</span> <span class="o">=</span> <span class="nx">r</span><span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">]</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">permalink</span> <span class="o">=</span> <span class="nx">r</span><span class="p">[</span><span class="s1">&#39;permalink&#39;</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">createdTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="s1">&#39;created&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="s1">&#39;replies&#39;</span><span class="p">])</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">replies</span> <span class="o">=</span> <span class="nx">r</span><span class="p">[</span><span class="s1">&#39;replies&#39;</span><span class="p">][</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;children&#39;</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="nx">reply</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nx">Reply</span><span class="p">(</span><span class="nx">reply</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]);</span>
            <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>Each reply can have nested replies inside.</p>
<p><em>src/app/models/thread.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Reply</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./reply&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="kr">class</span> <span class="nx">Thread</span> <span class="p">{</span>
    <span class="p">...</span>
    <span class="nx">content</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">replies</span>: <span class="kt">Reply</span><span class="p">[];</span>

    <span class="kr">constructor</span><span class="p">(</span><span class="nx">t</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">...</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">content</span> <span class="o">=</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;selftext&#39;</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>Route mapping for thread view.</p>
<p><em>src/app/app-routing.module.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript">
<span class="kr">import</span> <span class="p">{</span> <span class="nx">ThreadComponent</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./components/thread/thread.component&#39;</span>

<span class="kr">const</span> <span class="nx">routes</span>: <span class="kt">Routes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">...</span>
    <span class="p">{</span>
        <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;r/:subreddit/comments/:id/:permalink&#39;</span><span class="p">,</span> <span class="nx">component</span>: <span class="kt">ThreadComponent</span>
    <span class="p">}</span>
<span class="p">];</span>
</code></pre></div><p>Add the url pattern for reddit thread in config file. We will use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">template string</a> to replace placeholders with variable values later.</p>
<p><em>src/assets/config.json</em></p>
<div class="highlight"><pre class="chroma"><code class="language-JSON" data-lang="JSON"><span class="p">{</span>
    <span class="nt">&#34;baseUrl&#34;</span><span class="p">:</span> <span class="s2">&#34;https://old.reddit.com&#34;</span><span class="p">,</span>
    <span class="nt">&#34;threadUrlFormat&#34;</span><span class="p">:</span> <span class="s2">&#34;/r/${subreddit}/comments/${id}/&#34;</span>
<span class="p">}</span>
</code></pre></div><p>Add getter for our new config property.</p>
<p><em>src/app/services/app-config.service.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="nx">get</span> <span class="nx">threadUrlFormat() {</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">appConfig</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Config file not loaded!&#39;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">appConfig</span><span class="p">.</span><span class="nx">threadUrlFormat</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p>In <em>common</em> service, we need a new function to fetch all comments in a thread. The json data structure is simple: the first child is the post content, and second child is list of replies.
We also used <em>eval</em> to replace placeholders in config string with values.</p>
<p><em>src/app/services/common.service.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="p">...</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Reply</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../models/reply&#39;</span>
<span class="p">...</span>
<span class="nx">getComments</span><span class="p">(</span><span class="nx">subreddit</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">id</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">Observable</span><span class="o">&amp;</span><span class="err">#</span><span class="nx">x3C</span><span class="p">;</span><span class="nx">Thread</span><span class="o">&amp;</span><span class="err">#</span><span class="nx">x3E</span><span class="p">;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">httpClient</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">appConfigService</span><span class="p">.</span><span class="nx">baseUrl</span> <span class="o">+</span> <span class="nb">eval</span><span class="p">(</span><span class="s1">&#39;`&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">appConfigService</span><span class="p">.</span><span class="nx">threadUrlFormat</span> <span class="o">+</span> <span class="s1">&#39;`&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.json&#39;</span><span class="p">).</span><span class="nx">pipe</span><span class="p">(</span>
        <span class="nx">map</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Thread</span><span class="p">(</span><span class="nx">res</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;children&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;data&#39;</span><span class="p">]);</span>
            <span class="nx">t</span><span class="p">.</span><span class="nx">replies</span> <span class="o">=</span> <span class="nx">res</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;children&#39;</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="nx">reply</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nx">Reply</span><span class="p">(</span><span class="nx">reply</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]);</span>
            <span class="p">});</span>
            <span class="k">return</span> <span class="nx">t</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="p">)</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div><p>We finished implementation for the service, next is the component.</p>
<p><em>src/app/components/thread/thread.component.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="p">...</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Thread</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../../models/thread&#39;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">CommonService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../../services/common.service&#39;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">ActivatedRoute</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/router&#39;</span><span class="p">;</span>
<span class="p">...</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">ThreadComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

    <span class="nx">thread</span>: <span class="kt">Thread</span><span class="p">;</span>
    <span class="nx">subreddit</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">id</span>: <span class="kt">string</span><span class="p">;</span>

    <span class="kr">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">commonService</span>: <span class="kt">CommonService</span><span class="p">,</span> <span class="kr">private</span> <span class="nx">route</span>: <span class="kt">ActivatedRoute</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">subreddit</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">route</span><span class="p">.</span><span class="nx">snapshot</span><span class="p">.</span><span class="nx">paramMap</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;subreddit&#39;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">route</span><span class="p">.</span><span class="nx">snapshot</span><span class="p">.</span><span class="nx">paramMap</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">ngOnInit() {</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">loadThread</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">loadThread</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">commonService</span><span class="p">.</span><span class="nx">getComments</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">subreddit</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">thread</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
        <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>Here we have 3 properties: <em>thread</em> to store data for current viewing thread, <em>subreddit</em> and <em>id</em> are from url. On component init, add a call to <em>loadThread</em>, subscribe to it&rsquo;s observable, and assign it&rsquo;s return value to <em>thread</em> property.</p>
<h3 id="comment-view">Comment view</h3>
<p>HTML is a bit complicated. Due to Reddit&rsquo;s nesting comment system, we need to implement a simple tree view</p>
<p><em>src/app/components/thread/thread.component.html</em></p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;thread&#34;</span> <span class="err">*</span><span class="na">ngIf</span><span class="o">=</span><span class="s">&#34;thread&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;post&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;title&#34;</span><span class="p">&gt;</span>
            {{ thread.title }}
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;info&#34;</span><span class="p">&gt;</span>
            {{ thread.createdTime| date:&#39;fullDate&#39; }} by <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;user&#34;</span><span class="p">&gt;</span>{{ thread.author }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content&#34;</span><span class="p">&gt;</span>
            {{ thread.content }}
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;info&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;points&#34;</span><span class="p">&gt;</span>{{ thread.score }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> pts - <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;comments&#34;</span><span class="p">&gt;</span>{{ thread.num_comments }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            comments
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;replies&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="err">*</span><span class="na">ngTemplateOutlet</span><span class="o">=</span><span class="s">&#34;treeViewList; context:{$implicit:thread.replies}&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">ng-template</span> <span class="err">#</span><span class="na">treeViewList</span> <span class="na">let-list</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;reply&#34;</span> <span class="err">*</span><span class="na">ngFor</span><span class="o">=</span><span class="s">&#34;let reply of list;let i=index&#34;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;user&#34;</span><span class="p">&gt;</span>{{ reply.author }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content&#34;</span><span class="p">&gt;</span>{{ reply.content }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;child&#34;</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="err">*</span><span class="na">ngTemplateOutlet</span><span class="o">=</span><span class="s">&#34;treeViewList;
</span><span class="s">                            context:{$implicit: reply.replies}&#34;</span><span class="p">&gt;</span>
                    <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">ng-template</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div><p>Let&rsquo;s dissect the HTML code. The post content is simple, we will focus on the comment part.</p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">ng-container</span> <span class="err">*</span><span class="na">ngTemplateOutlet</span><span class="o">=</span><span class="s">&#34;treeViewList; context:{$implicit:thread.replies}&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>
</code></pre></div><p>Here we tell Angular to render an element using <!-- raw HTML omitted -->ngTemplateOutlet<!-- raw HTML omitted -->, passing <em>thread.replies</em> as a variable.</p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">ng-template</span> <span class="err">#</span><span class="na">treeViewList</span> <span class="na">let-list</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;reply&#34;</span> <span class="err">*</span><span class="na">ngFor</span><span class="o">=</span><span class="s">&#34;let reply of list;let i=index&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;user&#34;</span><span class="p">&gt;</span>{{ reply.author }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content&#34;</span><span class="p">&gt;</span>{{ reply.content }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        ...
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ng-template</span><span class="p">&gt;</span>
</code></pre></div><p>Above is template definition, <em>list</em> will have default value from <em>thread.replies</em> since we used $implicit key. Then we have to loop through each reply with <em>ngFor</em>&hellip;</p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;child&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="err">*</span><span class="na">ngTemplateOutlet</span><span class="o">=</span><span class="s">&#34;treeViewList;
</span><span class="s">            context:{$implicit: reply.replies}&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div><p>&hellip; and render all reply&rsquo;s children by using the same template.
Then apply some styling.</p>
<p><em>src/app/components/thread/thread.component.scss</em></p>
<div class="highlight"><pre class="chroma"><code class="language-CSS" data-lang="CSS"><span class="p">.</span><span class="nc">thread</span> <span class="p">.</span><span class="nc">post</span> <span class="p">{</span>
    <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">thread</span> <span class="p">.</span><span class="nc">post</span> <span class="p">.</span><span class="nc">title</span> <span class="p">{</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">2</span><span class="kt">rem</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#353535</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">thread</span> <span class="p">.</span><span class="nc">post</span> <span class="p">.</span><span class="nc">info</span> <span class="p">.</span><span class="nc">user</span> <span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#3d963b</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">thread</span> <span class="p">.</span><span class="nc">post</span> <span class="p">.</span><span class="nc">points</span> <span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#E64569</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">thread</span> <span class="p">.</span><span class="nc">post</span> <span class="p">.</span><span class="nc">comments</span> <span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#439ECF</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">thread</span> <span class="p">.</span><span class="nc">replies</span> <span class="p">.</span><span class="nc">reply</span> <span class="p">{</span>
    <span class="k">margin-top</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">thread</span> <span class="p">.</span><span class="nc">replies</span> <span class="p">.</span><span class="nc">reply</span> <span class="p">.</span><span class="nc">content</span> <span class="p">{</span>
    <span class="k">padding-bottom</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">border-bottom</span><span class="p">:</span> <span class="kc">solid</span> <span class="mi">1</span><span class="kt">px</span> <span class="kc">lightgray</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">thread</span> <span class="p">.</span><span class="nc">replies</span> <span class="p">.</span><span class="nc">reply</span> <span class="p">.</span><span class="nc">child</span> <span class="p">{</span>
    <span class="k">margin-left</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">thread</span> <span class="p">.</span><span class="nc">replies</span> <span class="p">.</span><span class="nc">reply</span> <span class="p">.</span><span class="nc">user</span> <span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#3d963b</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p>Run the app to check the result.</p>
<div class="highlight"><pre class="chroma"><code class="language-Bash" data-lang="Bash">ng serve
</code></pre></div><p><img src="angular-reddit-3-check-3.png" alt="simple-reddit-client-web-by-angular-3-check-3.png"></p>
<p>You can see that the comment content is in markdown format, so we are unable to display it correctly. Luckily, reddit json data also has body_html, which is the HTML version of the comment. We will need to update both <em>reply</em> model and thread view.</p>
<p><em>src/app/models/reply.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="kr">export</span> <span class="kr">class</span> <span class="nx">Reply</span> <span class="p">{</span>
    <span class="p">...</span>

    <span class="kr">constructor</span><span class="p">(</span><span class="nx">r</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">...</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">content</span> <span class="o">=</span> <span class="nx">r</span><span class="p">[</span><span class="s1">&#39;body_html&#39;</span><span class="p">]</span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p><em>src/app/components/thread/thread.component.html</em></p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content&#34;</span> <span class="err">[</span><span class="na">innerHTML</span><span class="err">]=&#34;</span><span class="na">reply</span><span class="err">.</span><span class="na">content</span><span class="err">&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div><p>We use <em>innerHTML</em> property for HTML binding. Now let&rsquo;s check the page again.
<img src="angular-reddit-3-check-4.png" alt="simple-reddit-client-web-by-angular-3-check-4.png">
Ok so we displayed the HTML, but it&rsquo;s being rendered as a string, we need to parse it into HTML.</p>
<p><em>src/app/components/thread/thread.component.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="kr">export</span> <span class="kr">class</span> <span class="nx">ThreadComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

    <span class="p">...</span>
    <span class="nx">toHTML</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span><span class="o">:</span> <span class="nx">any</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">DOMParser</span><span class="p">().</span><span class="nx">parseFromString</span><span class="p">(</span><span class="nx">input</span><span class="p">,</span> <span class="s2">&#34;text/html&#34;</span><span class="p">).</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">textContent</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p><em>src/app/components/thread/thread.component.html</em></p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content&#34;</span> <span class="err">[</span><span class="na">innerHTML</span><span class="err">]=&#34;</span><span class="na">toHTML</span><span class="err">(</span><span class="na">reply</span><span class="err">.</span><span class="na">content</span><span class="err">)&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div><p>Final result.
<img src="angular-reddit-3-check-5.png" alt="simple-reddit-client-web-by-angular-3-check-5.png">
<a href="https://github.com/tranchikhang/a-reddit">Source code on github.</a></p>


	</div>

	<div class="pagination">
		<a href="../../../blog/2020/simple-reddit-client-web-by-angular-2/" class="left arrow">&#8592;</a>
		<a href="../../../blog/2020/moved-to-heroku/" class="right arrow">&#8594;</a>

		<a href="#" class="top">Top</a>
	</div>
</main>


	        </div>
        </div>
    </body>
</html>
