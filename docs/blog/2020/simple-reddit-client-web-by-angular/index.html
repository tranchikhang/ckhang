<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Reddit client using Angular</title>


    <link href="line-awesome/css/line-awesome.min.css" rel="stylesheet" type="text/css">

    
        <link rel="stylesheet" href="../../../css/style.css">
    </head>

    <body>
    	<div class="main">
			<div id="sidebar" class="main-background">
    <div class="site-title">
        <h1>
            <a class="heading">
                Hi, I'm Khang
            </a>
        </h1>
    </div>
    <nav class="links">
        <a class="page-link" href="../../../about/">About</a>
        <a class="page-link" href="../../../project/">Project</a>
        <a class="page-link" href="../../../blog/">Blog</a>
    </nav>
</div>
	        <div class="common-container">
	        	

<main>
	<div class="post">
		<div class="post-info">
        <br>
        <time datetime="2020-01-13 00:00:00 &#43;0000 UTC">January 13, 2020</time>
</div>

		<h1 class="post-title">Simple Reddit client using Angular</h1>
<div class="post-line"></div>

		<h3 id="about-reddit-api">About Reddit API</h3>
<p>In addition to the <a href="https://www.reddit.com/dev/api/">official API</a>, Reddit also serves JSON data out of the box. You just need to add &ldquo;.json&rdquo; after the url, for example: <a href="https://www.reddit.com/r/worldnews.json">https://www.reddit.com/r/worldnews.json</a>
<img src="simple-reddit-client-web-by-angular-1.png" alt="simple-reddit-client-web-by-angular-1.png"></p>
<p>In this post I&rsquo;m going to create a simple Angular app showing data from Reddit.</p>
<h3 id="angular-application">Angular application</h3>
<p>First I need to create the app using Angular CLI.</p>
<div class="highlight"><pre class="chroma"><code class="language-Bash" data-lang="Bash">ng new a-reddit
</code></pre></div><p>Enter the project’s directory and run the app to make sure that it is configured correctly.</p>
<div class="highlight"><pre class="chroma"><code class="language-Bash" data-lang="Bash"><span class="nb">cd</span> a-reddit
ng serve
</code></pre></div><p>The default page should be like this.</p>
<p><img src="simple-reddit-client-web-by-angular-init.png" alt="simple-reddit-client-web-by-angular-init.png"></p>
<h3 id="component">Component</h3>
<p>We have created the app successfully. To display the data, we need to create a component.</p>
<div class="highlight"><pre class="chroma"><code class="language-Bash" data-lang="Bash">ng generate component dashboard
</code></pre></div><p>Dashboard component has been generated.</p>
<p><em>src/app/dashboard/dashboard.component.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="kd">@Component</span><span class="p">({</span>
    <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-dashboard&#39;</span><span class="p">,</span>
    <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./dashboard.component.html&#39;</span><span class="p">,</span>
    <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./dashboard.component.scss&#39;</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">DashboardComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
    <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>Now we need to config the routes and set the dashboard page as default page.</p>
<p><em>src/app/app-routing.module.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="kr">import</span> <span class="p">{</span> <span class="nx">DashboardComponent</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./dashboard/dashboard.component&#39;</span>

<span class="kr">const</span> <span class="nx">routes</span>: <span class="kt">Routes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">redirectTo</span><span class="o">:</span> <span class="s1">&#39;/dashboard&#39;</span><span class="p">,</span> <span class="nx">pathMatch</span><span class="o">:</span> <span class="s1">&#39;full&#39;</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;dashboard&#39;</span><span class="p">,</span> <span class="nx">component</span>: <span class="kt">DashboardComponent</span>
    <span class="p">}</span>
<span class="p">];</span>
</code></pre></div><p>I need to remove the default page of Angular. In <em>app.component.html</em>, I will remove all the content except the <em>router-outlet</em>. I also add a container div for applying CSS later.</p>
<p><em>src/app/app.component.html</em></p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">router-outlet</span><span class="p">&gt;&lt;/</span><span class="nt">router-outlet</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div><p>The app will simply display the title and submitted user name, therefore, I need a class to store the values.
Create a <em>models</em> folder and add a <em>thread.ts</em> file.</p>
<p><em>src/app/models/thread.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="kr">export</span> <span class="kr">class</span> <span class="nx">Thread</span> <span class="p">{</span>
    <span class="nx">title</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">author</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">permalink</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">url</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">createdDate</span>: <span class="kt">Date</span><span class="p">;</span>

    <span class="kr">constructor</span><span class="p">(</span><span class="nx">title</span>:<span class="kt">string</span><span class="p">,</span> <span class="nx">author</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">permalink</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">url</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="nx">title</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">author</span> <span class="o">=</span> <span class="nx">author</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">permalink</span> <span class="o">=</span> <span class="nx">permalink</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="nx">url</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>To fetch data from Reddit asynchronously, I will create a <em>services</em> folder, then run the command below to create a new service:</p>
<div class="highlight"><pre class="chroma"><code class="language-Bash" data-lang="Bash">ng generate service services/dashboard
</code></pre></div><p><em>src/app/services/dashboard.service.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="kd">@Injectable</span><span class="p">({</span>
    <span class="nx">providedIn</span><span class="o">:</span> <span class="s1">&#39;root&#39;</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">DashboardService</span> <span class="p">{</span>
    <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>Next step is getting data from Reddit using Http Module from Angular. First I need to inject HttpClientModule into my app.</p>
<p><em>src/app/app.module.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="kr">import</span> <span class="p">{</span> <span class="nx">HttpClientModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/common/http&#39;</span><span class="p">;</span>
<span class="p">...</span>
<span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">...</span>
    <span class="nx">HttpClientModule</span>
<span class="p">],</span>
</code></pre></div><p>Now I will add some code to fetch data.</p>
<p><em>src/app/services/dashboard.service.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="p">...</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Observable</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;rxjs&#39;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">map</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;rxjs/operators&#34;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">HttpClient</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/common/http&#39;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Thread</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../models/thread&#39;</span>
<span class="p">...</span>
<span class="kr">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">httpClient</span>: <span class="kt">HttpClient</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

<span class="nx">getThreads</span><span class="p">()</span><span class="o">:</span> <span class="nx">Observable</span><span class="o">&amp;</span><span class="err">#</span><span class="nx">x3C</span><span class="p">;</span><span class="nx">any</span><span class="o">&amp;</span><span class="err">#</span><span class="nx">x3E</span><span class="p">;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">httpClient</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;https://old.reddit.com/r/worldnews.json&#39;</span><span class="p">).</span><span class="nx">pipe</span><span class="p">(</span>
        <span class="nx">map</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">res</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;children&#39;</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="nx">thread</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="kd">let</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">thread</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">];</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nx">Thread</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">],</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;permalink&#39;</span><span class="p">],</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]);</span>
            <span class="p">});</span>
        <span class="p">}</span>
        <span class="p">)</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div><p>Some explanations, <em>httpClient</em> will send a GET request to Reddit.</p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="k">this</span><span class="p">.</span><span class="nx">httpClient</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;https://old.reddit.com/r/worldnews.json&#39;</span><span class="p">)</span>
</code></pre></div><p><em>pipe</em> is a method from RxJS which is used for composing operators. <em>pipe</em> accepts functions as arguments. So here I&rsquo;m passing <em>map</em> function.</p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="nx">pipe</span><span class="p">(</span>
    <span class="nx">map</span><span class="p">(</span>
        <span class="p">...</span>
    <span class="p">)</span>
<span class="p">);</span>
</code></pre></div><p><em>map</em> function <!-- raw HTML omitted -->Apply projection with each value from source<!-- raw HTML omitted -->. That means the function below will apply to the response <em>res</em>.</p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">res</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;children&#39;</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="nx">thread</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">thread</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">];</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Thread</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">],</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;permalink&#39;</span><span class="p">],</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]);</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div><p>As you can see from the JSON data picture, the threads list is in <!-- raw HTML omitted -->data<!-- raw HTML omitted --> then <!-- raw HTML omitted -->children<!-- raw HTML omitted --> property. I&rsquo;m using <em>map</em> again to handle data for each thread.</p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="nx">thread</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">thread</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">];</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Thread</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">],</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;permalink&#39;</span><span class="p">],</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]);</span>
<span class="p">}</span>
</code></pre></div><h3 id="config-file">Config file</h3>
<p>A config file is necessary to avoid hard coding reddit URL. I will have another post in detail about config file in Angular, for now I just give some demo code and basic explanation.</p>
<p>First create a config file in <em>assets</em> folder:</p>
<p><em>src/assets/config.json</em></p>
<div class="highlight"><pre class="chroma"><code class="language-JSON" data-lang="JSON"><span class="p">{</span>
    <span class="nt">&#34;baseUrl&#34;</span><span class="p">:</span> <span class="s2">&#34;https://old.reddit.com&#34;</span>
<span class="p">}</span>
</code></pre></div><p>Second is creating a service to load config file, .</p>
<div class="highlight"><pre class="chroma"><code class="language-Bash" data-lang="Bash">ng generate service services/app-config
</code></pre></div><p><em>src/app/services/app-config.service.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="kr">import</span> <span class="p">{</span> <span class="nx">HttpClient</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/common/http&#39;</span>
<span class="p">...</span>
<span class="kr">private</span> <span class="nx">appConfig</span>: <span class="kt">any</span><span class="p">;</span>

<span class="kr">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">http</span>: <span class="kt">HttpClient</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

<span class="nx">loadAppConfig() {</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/assets/config.json&#39;</span><span class="p">).</span><span class="nx">toPromise</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">appConfig</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="nx">get</span> <span class="nx">baseUrl() {</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">appConfig</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Config file not loaded!&#39;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">appConfig</span><span class="p">.</span><span class="nx">baseUrl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p>The code is pretty straightforward: use HttpClient to get the config file, store the file content into <em>appConfig</em> property, and make a getter that return the base URL.
Finally, I need to use APP_INITIALIZER, a provider that lets me specify a promise in <em>app.module.ts</em> to load the json file at startup.</p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript">
<span class="kr">import</span> <span class="p">{</span> <span class="nx">APP_INITIALIZER</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">AppConfigService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./services/app-config.service&#39;</span>
<span class="p">...</span>
<span class="nx">providers</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="nx">provide</span>: <span class="kt">APP_INITIALIZER</span><span class="p">,</span>
        <span class="nx">multi</span>: <span class="kt">true</span><span class="p">,</span>
        <span class="nx">deps</span><span class="o">:</span> <span class="p">[</span><span class="nx">AppConfigService</span><span class="p">],</span>
        <span class="nx">useFactory</span><span class="o">:</span> <span class="p">(</span><span class="nx">appConfigService</span>: <span class="kt">AppConfigService</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">appConfigService</span><span class="p">.</span><span class="nx">loadAppConfig</span><span class="p">();</span>
            <span class="p">};</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">],</span>
</code></pre></div><p>Back to <em>dashboard.service.ts</em>, replace the hard-coded URL with config file.</p>
<p><em>src/app/services/dashboard.service.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppConfigService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../services/app-config.service&#39;</span>
<span class="p">...</span>

<span class="kr">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">httpClient</span>: <span class="kt">HttpClient</span><span class="p">,</span> <span class="kr">private</span> <span class="nx">appConfigService</span>: <span class="kt">AppConfigService</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

<span class="nx">getThreads</span><span class="p">()</span><span class="o">:</span> <span class="nx">Observable</span><span class="o">&amp;</span><span class="err">#</span><span class="nx">x3C</span><span class="p">;</span><span class="nx">any</span><span class="o">&amp;</span><span class="err">#</span><span class="nx">x3E</span><span class="p">;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">httpClient</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">appConfigService</span><span class="p">.</span><span class="nx">baseUrl</span> <span class="o">+</span> <span class="s1">&#39;/r/worldnews.json&#39;</span><span class="p">).</span><span class="nx">pipe</span><span class="p">(</span>
        <span class="nx">map</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">res</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;children&#39;</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="nx">thread</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="kd">let</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">thread</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">];</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nx">Thread</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">],</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;permalink&#39;</span><span class="p">],</span> <span class="nx">t</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]);</span>
            <span class="p">});</span>
        <span class="p">}</span>
        <span class="p">)</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div><p>That&rsquo;s all for the service, then to the component.</p>
<p><em>src/app/dashboard/dashboard.component.ts</em></p>
<div class="highlight"><pre class="chroma"><code class="language-TypeScript" data-lang="TypeScript"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Thread</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../models/thread&#39;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">DashboardService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../services/dashboard.service&#39;</span>
<span class="p">...</span>
    <span class="nx">threads</span>: <span class="kt">Thread</span><span class="p">[];</span>

    <span class="kr">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">dashboardService</span>: <span class="kt">DashboardService</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">threads</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="p">}</span>

    <span class="nx">ngOnInit() {</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">getThreads</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">getThreads</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">dashboardService</span><span class="p">.</span><span class="nx">getThreads</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">threads</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
        <span class="p">})</span>
    <span class="p">}</span>
</code></pre></div><p>Finally, I need to create the HTML to show the data.</p>
<p><em>src/app/dashboard/dashboard.component.html</em></p>
<div class="highlight"><pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;list-thread&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;thread&#34;</span> <span class="err">*</span><span class="na">ngFor</span><span class="o">=</span><span class="s">&#34;let thread of threads&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;title&#34;</span><span class="p">&gt;</span>{{ thread.title }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;info&#34;</span><span class="p">&gt;</span>{{ thread.author }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div><p>That&rsquo;s all for the coding. Now enter the command below and checkout the result:</p>
<div class="highlight"><pre class="chroma"><code class="language-Bash" data-lang="Bash">ng serve
</code></pre></div><p><img src="simple-reddit-client-web-by-angular-2.png" alt="simple-reddit-client-web-by-angular-2.png">
<a href="https://github.com/tranchikhang/a-reddit">Source code on github.</a></p>


	</div>

	<div class="pagination">
		<a href="../../../blog/2019/pyodbc-named-parameter-binding/" class="left arrow">&#8592;</a>
		<a href="../../../blog/2020/simple-reddit-client-web-by-angular-2/" class="right arrow">&#8594;</a>

		<a href="#" class="top">Top</a>
	</div>
</main>


	        </div>
        </div>
    </body>
</html>
